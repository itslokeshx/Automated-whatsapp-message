<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WhatsApp Automation | Message Scheduler</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="/css/design-system.css">
  <link rel="stylesheet" href="/css/components.css">
</head>

<body>
  <div class="container">
    <!-- Header -->
    <header class="header fade-in">
      <div class="header-title">
        <span class="header-icon">ğŸ“±</span>
        <h1>WhatsApp Automation</h1>
      </div>
      <p class="header-subtitle">Schedule and send automated WhatsApp messages with ease</p>
    </header>

    <!-- Main Grid -->
    <div class="grid grid-2">
      <!-- Send Message Card -->
      <div class="card card-glass fade-in">
        <div class="card-header">
          <h3 class="card-title">ğŸ“¤ Send Message</h3>
          <span class="status-badge success">
            <span class="status-dot"></span>
            Ready
          </span>
        </div>

        <form id="sendMessageForm">
          <div class="input-group">
            <label class="input-label" for="sendRecipient">Recipient Phone Number</label>
            <input type="text" id="sendRecipient" class="input" placeholder="919444539625" required>
            <small class="text-muted">E.164 format (e.g., 919444539625)</small>
          </div>

          <div class="input-group">
            <label class="input-label" for="sendMessage">Message (Optional)</label>
            <textarea id="sendMessage" class="input textarea"
              placeholder="Leave empty to use default template..."></textarea>
          </div>

          <button type="submit" class="btn btn-success" id="sendBtn">
            <span>Send Now</span>
            <span>âœ“</span>
          </button>
        </form>
      </div>

      <!-- Schedule Message Card -->
      <div class="card card-glass fade-in">
        <div class="card-header">
          <h3 class="card-title">â° Schedule Message</h3>
          <span class="card-badge">New</span>
        </div>

        <form id="scheduleMessageForm">
          <div class="input-group">
            <label class="input-label" for="scheduleRecipient">Recipient Phone Number</label>
            <input type="text" id="scheduleRecipient" class="input" placeholder="919444539625" required>
          </div>

          <div class="input-group">
            <label class="input-label" for="scheduleMessage">Message (Optional)</label>
            <textarea id="scheduleMessage" class="input textarea"
              placeholder="Leave empty to use default template..."></textarea>
          </div>

          <div class="input-group">
            <label class="input-label" for="scheduleType">Schedule Type</label>
            <select id="scheduleType" class="select">
              <option value="one-time">One-time</option>
              <option value="recurring">Recurring</option>
            </select>
          </div>

          <!-- One-time scheduling -->
          <div id="oneTimeSchedule" class="input-group">
            <label class="input-label" for="scheduleDateTime">Date & Time</label>
            <input type="datetime-local" id="scheduleDateTime" class="input">
          </div>

          <!-- Recurring scheduling -->
          <div id="recurringSchedule" class="input-group" style="display: none;">
            <label class="input-label" for="cronExpression">Cron Expression</label>
            <input type="text" id="cronExpression" class="input" placeholder="0 17 * * *">
            <small class="text-muted">Example: "0 17 * * *" = Daily at 5:00 PM</small>
          </div>

          <button type="submit" class="btn btn-primary" id="scheduleBtn">
            <span>Schedule Message</span>
            <span>â°</span>
          </button>
        </form>
      </div>
    </div>

    <!-- Scheduled Messages List -->
    <div class="card card-glass fade-in" style="margin-top: var(--space-lg);">
      <div class="card-header">
        <h3 class="card-title">ğŸ“‹ Scheduled Messages</h3>
        <button class="btn btn-secondary btn-sm" id="refreshBtn">
          <span>Refresh</span>
          <span>ğŸ”„</span>
        </button>
      </div>

      <div id="scheduledListContainer">
        <div class="empty-state">
          <div class="empty-state-icon">ğŸ“­</div>
          <p>No scheduled messages</p>
        </div>
      </div>
    </div>

    <!-- Server Status -->
    <div class="card card-glass fade-in" style="margin-top: var(--space-lg);">
      <div class="card-header">
        <h3 class="card-title">ğŸ¥ Server Status</h3>
        <button class="btn btn-secondary btn-sm" id="healthCheckBtn">
          <span>Check Health</span>
        </button>
      </div>

      <div id="healthStatus">
        <p class="text-muted">Click "Check Health" to view server status</p>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer"></div>

  <!-- Scripts -->
  <script src="/js/app.js"></script>
  <script src="/js/scheduler.js"></script>
</body>

</html>